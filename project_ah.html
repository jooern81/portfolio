<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Keep existing head content unchanged -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joo Ern's Portfolio Website</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" integrity="sha256-46qynGAkLSFpVbEBog43gvNhfrOj+BmwXdxFgVK/Kvc=" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700|Roboto+Slab:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <!-- Keep existing header unchanged -->
    <header>
        <div class="logo">
            <img src="img/devjoo.JPG" alt="">
        </div>
        <button class="nav-toggle" aria-label="toggle navigation">
            <span class="hamburger"></span>
        </button>
        <nav class="nav">
            <ul class="nav__list">
                <li class="nav__item"><a href="index.html" class="nav__link">Home</a></li>
                <li class="nav__item"><a href="index.html#services" class="nav__link">My Services</a></li>
                <li class="nav__item"><a href="index.html#about" class="nav__link">About me</a></li>
                <li class="nav__item"><a href="index.html#work" class="nav__link">My Work</a></li>
            </ul>
        </nav>
    </header>

    <section class="intro">
        <h1 class="section__title section__title--intro">
            Project <strong>AH (Artificial Human)</strong>
        </h1>
        <p class="section__subtitle section__subtitle--intro">A personalized AI companion with memory and emotions</p>
        <img src="img/project_ah/main_pic.jpg" alt="" class="intro__img">
    </section>

    <div class="portfolio-item-individual">
        <p>Project AH represents a significant advancement in personalized AI companions, developed in February 2023 when GPT-4 was just released. The project aimed to create user-configurable chatbots on Telegram where users could design their AI friend based on specific parameters. What sets this project apart is its implementation of long-term memory, emotional intelligence, and the ability to share contextually relevant images.</p>

        <img src="img/project_ah/project_structure.png" alt="Project Architecture Overview" class="portfolio__img">
        <p>The project's architecture was carefully designed to handle multiple concurrent users while maintaining separate conversation contexts and memory stores for each AI companion. This modular structure allowed for easy scaling and maintenance of the system.</p>

        <img src="img/project_ah/early_design.png" alt="Early Design Sketches" class="portfolio__img">
        <p>Early design sketches show the initial conception of how the AI companion would interact with users, including the flow of conversation, memory storage, and emotional state management. These early planning stages were crucial in developing a coherent system.</p>

        <img src="img/project_ah/comfy_ui_architecture.JPG" alt="ComfyUI Workflow" class="portfolio__img">
        <p>For the image generation component, we utilized ComfyUI to create a sophisticated workflow that could generate consistent, high-quality images matching the AI companion's personality and context. This setup allowed for fine-tuned control over the image generation process.</p>

        <p>
            The project introduced several breakthrough features that were ahead of their time:
            <li>(1) Long-term Memory System: Implementation of a dynamic database that stored and retrieved critical conversation details</li>
            <img src="img/project_ah/memory_system.JPG" alt="">
            <body>
                <pre><code class="python">def update_long_term_memory(user_id, conversation_detail):
    """
    Updates the long-term memory database when critical information is identified
    """
    db = connect_to_database()
    memory_timestamp = datetime.now()
    
    try:
        db.execute("""
            INSERT INTO long_term_memory 
            (user_id, detail, timestamp) 
            VALUES (?, ?, ?)
        """, (user_id, conversation_detail, memory_timestamp))
        db.commit()
    except Exception as e:
        print(f"Error updating memory: {e}")
        db.rollback()</code></pre>
            </body>

            <li>(2) Dynamic Emotional Intelligence: Real-time assessment of the agent's emotional state based on conversation history</li>
            <img src="img/project_ah/emotion_analysis.JPG" alt="">
            <body>
                <pre><code class="python">def analyze_emotional_state(conversation_history):
    """
    Analyzes recent conversation history to determine emotional state
    Returns emotional scores for different dimensions
    """
    emotion_analyzer = GPTEmotionAnalyzer()
    
    emotional_dimensions = {
        'happiness': 0.0,
        'excitement': 0.0,
        'calmness': 0.0,
        'concern': 0.0
    }
    
    # Process recent messages through emotion analyzer
    scores = emotion_analyzer.analyze_text(conversation_history)
    
    return update_emotion_database(scores)</code></pre>
            </body>

            <li>(3) Visual Context Generation: A sophisticated image generation system that creates consistent visual representations of the AI companion</li>
            <img src="img/project_ah/stlye_transfer.JPG" alt="Style Transfer Process" class="portfolio__img">
        <p>The style transfer system was crucial in maintaining visual consistency across generated images. We implemented various checkpoints to ensure the AI companion's appearance remained consistent while adapting to different contexts.</p>

        <img src="img/project_ah/alternative_style_transfer.JPG" alt="Alternative Style Transfer Results" class="portfolio__img">
        <p>Multiple style transfer approaches were tested to find the optimal balance between maintaining the AI's core features while allowing for contextual variations in different scenarios.</p>

        <img src="img/project_ah/posture_control.JPG" alt="Posture Control Implementation" class="portfolio__img">
        <p>Precise posture control was implemented to ensure generated images matched the described activities and contexts, making the AI companion's visual presence more believable and engaging.</p>

        <body>
            <pre><code class="python">def image_call(context, reference_image):
    """
    Generates contextually appropriate images based on conversation
    Uses Stable Diffusion with specific Civitai models
    """
    quality_threshold = 0.85
    
    # Initialize SD pipeline with specific model
    pipeline = StableDiffusionPipeline.from_pretrained(
        "specific_civitai_model",
        torch_dtype=torch.float16
    )
    
    # Generate and quality check image
    generated_image = pipeline(
        prompt=context,
        reference_image=reference_image,
        num_inference_steps=50
    ).images[0]
    
    if check_image_quality(generated_image) > quality_threshold:
        return generated_image
    return None</code></pre>
        </body>

        <p>The long-term memory system was particularly innovative for its time, as it allowed the bot to maintain consistent knowledge about past interactions and user preferences. This was implemented before similar features became common in commercial AI products.</p>

        <img src="img/project_ah/memory_retrieval.JPG" alt="">

        <p>The emotional intelligence system added a new dimension to the interaction by maintaining a dynamic emotional state that influenced the bot's responses. This made conversations feel more natural and contextually appropriate.</p>

        <img src="img/project_ah/emotion_state2.PNG" alt="">
        <img src="img/project_ah/emotion_state3.PNG" alt="">

        <p>Perhaps the most technically challenging aspect was the image generation system, which required careful integration of Stable Diffusion models with quality control measures to ensure consistent and appropriate visual responses.</p>

        <img src="img/project_ah/image_examples.JPG" alt="">

        <p>These features combined to create an AI companion that could maintain long-term relationships with users while providing both emotional depth and visual interaction - capabilities that were quite advanced for early 2023.</p>

        <img src="img/project_ah/comfy_ui_output.JPG" alt="ComfyUI Generated Results" class="portfolio__img">
        <p>The final output from our ComfyUI workflow demonstrated remarkable consistency in generating contextually appropriate images while maintaining the AI companion's core visual identity. The system could handle a wide range of scenarios while ensuring the generated images matched the companion's established personality and appearance.</p>

        <img src="img/project_ah/main_pic.JPG" alt="Project AH Main Interface" class="portfolio__img">
        <p>The main interface of Project AH brought together all these components - memory management, emotional intelligence, and visual generation - into a seamless user experience. The system demonstrated that it was possible to create AI companions with genuine personality and consistent visual presence, even with the technical limitations of early 2023.</p>
    </div>

    <!-- Keep existing footer unchanged -->
    <footer class="footer">
        <a href="mailto:jooern@live.com" class="footer__link">jooern@live.com</a>
        <ul class="social-list">
            <li class="social-list__item">
                <a class="social-list__link" href="https://github.com/jooern81">
                    <i class="fab fa-github"></i>
                </a>
            </li>
        </ul>
    </footer>

    <script src="index.js"></script>
</body>
</html>
